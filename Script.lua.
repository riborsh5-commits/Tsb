--[[
    Raot: VANTABLACK EDITION (PRECISION SLIDER)
    "Solo se mueve si tú lo tocas"
]]

local Players = game:GetService("Players")
local Player = Players.LocalPlayer
local CoreGui = game:GetService("CoreGui")
local UserInputService = game:GetService("UserInputService")

--// CONFIGURACIÓN RAIOT //--
local Settings = {
    HitboxSize = 2,
    Visible = true
}

--// INTERFAZ RAIOT //--
local RAIOT_GUI = Instance.new("ScreenGui", CoreGui)
local MainFrame = Instance.new("Frame", RAIOT_GUI)
local CloseBtn = Instance.new("TextButton", RAIOT_GUI)

-- Botón CERRAR (Posición fija a la izquierda)
CloseBtn.Name = "RaiotClose"
CloseBtn.Size = UDim2.new(0, 80, 0, 35)
CloseBtn.Position = UDim2.new(0.02, 0, 0.25, 0) 
CloseBtn.BackgroundColor3 = Color3.fromRGB(30, 10, 10)
CloseBtn.Text = "CERRAR"
CloseBtn.TextColor3 = Color3.fromRGB(200, 0, 0)
CloseBtn.Font = Enum.Font.Code
CloseBtn.TextSize = 16

-- Menú Principal (Arriba al centro)
MainFrame.Size = UDim2.new(0, 250, 0, 120)
MainFrame.Position = UDim2.new(0.5, -125, 0, 10)
MainFrame.BackgroundColor3 = Color3.fromRGB(15, 15, 15)
MainFrame.BorderSizePixel = 2

local Title = Instance.new("TextLabel", MainFrame)
Title.Size = UDim2.new(1, 0, 0, 30)
Title.Text = "RAIOT: GOD HITBOX"
Title.TextColor3 = Color3.fromRGB(255, 255, 255)
Title.BackgroundTransparency = 1
Title.Font = Enum.Font.Code

--// SLIDER CON BLOQUEO DE CLIC //--
local SliderFrame = Instance.new("Frame", MainFrame)
SliderFrame.Size = UDim2.new(0.8, 0, 0, 10)
SliderFrame.Position = UDim2.new(0.1, 0, 0.5, 0)
SliderFrame.BackgroundColor3 = Color3.fromRGB(40, 40, 40)

local SliderButton = Instance.new("TextButton", SliderFrame)
SliderButton.Size = UDim2.new(0, 20, 0, 20)
SliderButton.Position = UDim2.new(0, 0, 0.5, -10)
SliderButton.BackgroundColor3 = Color3.fromRGB(255, 0, 0) -- El cuadrado rojo
SliderButton.Text = ""

local ValueLabel = Instance.new("TextLabel", MainFrame)
ValueLabel.Size = UDim2.new(1, 0, 0, 20)
ValueLabel.Position = UDim2.new(0, 0, 0.65, 0)
ValueLabel.Text = "Tamaño actual: 2"
ValueLabel.TextColor3 = Color3.fromRGB(255, 255, 255)
ValueLabel.BackgroundTransparency = 1
ValueLabel.Font = Enum.Font.Code

-- LÓGICA DE PRECISIÓN: Solo arrastra si haces clic en el botón rojo
local dragging = false

SliderButton.MouseButton1Down:Connect(function()
    dragging = true
end)

UserInputService.InputEnded:Connect(function(input)
    if input.UserInputType == Enum.UserInputType.MouseButton1 or input.UserInputType == Enum.UserInputType.Touch then
        dragging = false
    end
end)

UserInputService.InputChanged:Connect(function(input)
    if dragging and (input.UserInputType == Enum.UserInputType.MouseMovement or input.UserInputType == Enum.UserInputType.Touch) then
        local inputPos = input.Position.X
        local relativePos = math.clamp((inputPos - SliderFrame.AbsolutePosition.X) / SliderFrame.AbsoluteSize.X, 0, 1)
        SliderButton.Position = UDim2.new(relativePos, -10, 0.5, -10)
        Settings.HitboxSize = math.floor(2 + (relativePos * 198))
        ValueLabel.Text = "Tamaño actual: " .. tostring(Settings.HitboxSize)
    end
end)

CloseBtn.MouseButton1Click:Connect(function()
    MainFrame.Visible = not MainFrame.Visible
    CloseBtn.Text = MainFrame.Visible and "CERRAR" or "ABRIR"
end)

--// MOTOR DE HITBOX RAIOT //--
task.spawn(function()
    while task.wait(0.4) do
        local Size = Vector3.new(Settings.HitboxSize, Settings.HitboxSize, Settings.HitboxSize)
        for _, target in ipairs(Players:GetPlayers()) do
            if target ~= Player and target.Character and target.Character:FindFirstChild("HumanoidRootPart") then
                local HRP = target.Character.HumanoidRootPart
                HRP.Size = Size
                HRP.CanCollide = false
                HRP.Transparency = 0.8
            elseif target == Player and Player.Character and Player.Character:FindFirstChild("HumanoidRootPart") then
                Player.Character.HumanoidRootPart.Size = Vector3.new(2, 2, 1)
            end
        end
    end
end)
